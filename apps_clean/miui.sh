#!/bin/bash

LOCALDIR=`cd "$( dirname $0 )" && pwd`
cd $LOCALDIR

systemdir=$1

apps_dir="
CameraTools
Mipay
MiuiBugReport
Browser
Calendar
MiuiCamera
MiuiGallery
MiuiVideo
Music
QuickSearchBox
talkback
data-app
ONS
PlatformNetworkPermissionConfig
GmsCore
GoogleOneTimeInitializer
GooglePartnerSetup
GooglePlayServicesUpdater
GoogleServicesFramework
GmsCore
GooglePlayServicesUpdater
GoogleOneTimeInitializer
GoogleServicesFramework
GooglePrintRecommendationService
Mipay
NextPay
NQNfcNci
PaymentService
SecureElement
TSMClient
UPTsmService
Tag
mi_connect_service
MiuiScanner
Mirror
VoiceAssist
XiaoAiSpeechEngine
VoiceTrigger
AiAsstVision
ContentExtension
CloudServiceSysbase
CatcherPatch
KSICibaEngine
SimContact
CneApp
CACertService
GoogleServicesFramework
com.miui.qr
MiuiSuperMarket
ProxyHandler
CallLogBackup
DisplayCutoutEmulationCorner
DisplayCutoutEmulationDouble
DisplayCutoutEmulationHole
DisplayCutoutEmulationTall
DisplayCutoutEmulationWaterfall
FM
Mirror
BasicDreams
BookmarkProvider
WallpaperBackup
FM
MiPlayClient
MiRadio
MiuiAudioMonitor
MiuiBugReport
MSA
PacProcessor
PaymentService
SecurityInputMethod
XiaomiModemDebugService
Zman
mab
MiService
com.qualcomm.location
systemAdSolution
MSA-CN-NO_INSTALL_PACKAGE
mid_test
AutoTest
AutoRegistration
PrintRecommendationService
SeempService
GPSLogSave
SystemHelper
SYSOPT
Qmmi
QdcmFF
Xman
Yman
seccamsample
datastatusnotification
PhotoTable
QdcmFF
seccamservice
auto-install.json
data-app
fake_cdrom_install.iso
PowerChecker
goodix_sz
FidoCryptoService
verity_key
aiasst_service
PhotoTable
FM
EmergencyInfo
GFManager
aiasst_service
Joyose
data-app
scve
GFTest
VsimCore
AnalyticsCore
BasicDreams
BookmarkProvider
CarrierDefaultApp
CatchLog
Cit
CompanionDeviceManager
MiuiFrequentPhrase
greenguard
HTMLViewer
HybridAccessory
HybridPlatform
Joyose
LiveWallpaperPicker
MiLinkService2
MiPlayClient
MiuiAccessibility
MiuiBugReport
MiuiVpnSdkManager
MSA
PacProcessor
QColor
SecurityInputMethod
SimAppDialog
Stk
TouchAssistant
Traceur
TranslationService
Updater
WallpaperBackup
WAPPushManager
WMService
XMCloudEngine
YouDaoEngine
BlockedNumberProvider
DMRegService
MiGameCenterSDKService
MiRcs
MiShare
MiuiVideo
Music
MusicFX
NewHome
PersonalAssistant
QuickSearchBox
SoundRecorder
UserDictionaryProvider
PhotoTable
EmergencyInfo
EmergencyInfo
MiGameService
talkback
talkback
PrintSpooler
BuiltInPrintService
BuiltInPrintService
FusedLocationProvider
ConfigUpdater
dpmserviceapp
dpmserviceapp
MiuiDaemon
MetokNLP
CtsShimPrebuilt
FidoAuthen
FidoClient
BTProductionLineTool
BluetoothMidiService
Browser
"

for delete_dir in $apps_dir ;do
  find $systemdir -type d -name "$delete_dir" | xargs rm -rf
done

rm -rf $1/data-app/*